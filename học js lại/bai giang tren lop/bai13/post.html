<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://unpkg.com/axios@0.26.0/dist/axios.min.js"></script>
</head>

<body>
    <form action="">
        <input type="text" name="username" placeholder="Nhập username" /> <br>
        <input type="text" name="fullname" placeholder="Nhập họ tên" /> <br>
        <input type="text" name="email" placeholder="Nhập email" />
        <button type="button" onclick="SaveNew()">Save</button>
    </form>

    <script>

        // chức năng thêm mới user
        // địa chỉ thêm mới user sẽ là: http://localhost:3000/user
        // phương thức sẽ là post

        // các bước thực hiện: 1. Lấy dữ liệu cho vào biến, 2. Kiểm tra hợp lệ, 3. Gọi sự kiện post.

        function SaveNew() {
            var u = document.querySelector("input[name=username]").value;
            var n = document.querySelector("input[name=fullname]").value;
            var e = document.querySelector("input[name=email]").value;

            // if (u.length == 0) {
            //     alert('Bạn cần nhập username');
            //     return false;
            // }
            var option_axios = {
                url : "http://localhost:3000/user",
                method: "POST",
                data: {
                    username: u,
                    fullname: n,
                    email: e
                },
            }

            axios(option_axios)
                .then(function(data){
                    console.log('Success:', data);
                })
                .catch(function(error) {
                    console.error('Error:', error); // ghi log nếu xảy ra lỗi
                })
        }
    </script>
</body>

</html>